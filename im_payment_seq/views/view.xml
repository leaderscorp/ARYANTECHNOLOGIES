<?xml version="1.0" encoding="utf-8"?>
<!--
     Copyright 2019 Coop IT Easy
     License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
-->
<odoo>
<!--  Account Payment - Form - Sequence number field & reduce the original seq number -->
    <record id="im_custom_pay_field_view_form_ap" model="ir.ui.view">
        <field name="name">im_custom_pay_field_view_form_ap</field>
        <field name="model">account.payment</field>
        <field name="inherit_id" ref="account.view_account_payment_form"/>
        <field name="arch" type="xml">
            <xpath expr="//div[hasclass('oe_title')]" position="before">
                <div id="custom_seq_name">
                    <h1 class="text-start">
                        <field name="custom_name"/>
                    </h1>
                </div>
            </xpath>
        </field>
    </record>

<!--  Account Payment - Tree - sequence field and company field for multi comp -->
    <record id="im_custom_pay_field_view_tree_ap" model="ir.ui.view">
        <field name="name">im_custom_pay_field_view_tree</field>
        <field name="model">account.payment</field>
        <field name="inherit_id" ref="account.view_account_payment_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='journal_id']" position="before">
                <field name="company_id" optional="hide"/>
                <field name="custom_name"/>
            </xpath>
        </field>
    </record>

<!--  Account Move - Form - Sequence number field & reduce the original seq number -->
    <record id="im_custom_pay_field_view_form_am" model="ir.ui.view">
        <field name="name">im_custom_pay_field_view_form</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_move_form"/>
        <field name="arch" type="xml">
            <xpath expr="//div[hasclass('oe_title')]" position="before">
                <div id="custom_seq_name" width="100%">
                    <h1 class="text-start">
                        <field name="custom_name"
                               attrs="{'invisible': [('move_type', '!=', 'entry')]}"/>
                    </h1>
                </div>
            </xpath>
        </field>
    </record>

    <!--  Account Move - Tree - sequence field and company field for multi comp -->
    <record id="im_custom_pay_field_view_tree_am" model="ir.ui.view">
        <field name="name">im_custom_acc_field_view_tree</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_move_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='partner_id']" position="before">
                <field name="company_id" optional="hide"/>
                <field name="custom_name"/>
<!--                <field name="currency_id"/>-->
            </xpath>
        </field>
    </record>

    <!--  Search Filters  -->
    <record id="im_custom_pay_field_view_search_am" model="ir.ui.view">
        <field name="name">im_res_partner_customer_am_search</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_account_move_filter"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='journal_id']" position="after">
                <field name="custom_name"/>
            </xpath>
            <xpath expr="//group" position="inside">
                <filter name="custom_name" string="Voucher Num"
                        domain="[]" context="{'group_by':'custom_name'}"/>

<!--                <filter name="currency_id" string="Currency"-->
<!--                        domain="[]" context="{'group_by':'currency_id'}"/>-->
            </xpath>
        </field>
    </record>

    <record id="im_custom_pay_field_view_search_ap" model="ir.ui.view">
        <field name="name">im_res_partner_customer_ap_search</field>
        <field name="model">account.payment</field>
        <field name="inherit_id" ref="account.view_account_payment_search"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='journal_id']" position="after">
                <field name="custom_name"/>
            </xpath>
        </field>
    </record>

    <!--  Remove payment type when internal transfer is set  -->
<!--    <record id="im_custom_pay_field_view_form_ap_pt" model="ir.ui.view">-->
<!--        <field name="name">im_custom_pay_field_view_form_pt</field>-->
<!--        <field name="model">account.payment</field>-->
<!--        <field name="inherit_id" ref="account.view_account_payment_form"/>-->
<!--        <field name="arch" type="xml">-->
<!--            <xpath expr="//field[@name='is_internal_transfer']" position="attributes">-->
<!--                <attribute name="attrs">{'invisible': [('partner_type', '=', 'customer')]}</attribute>-->
<!--            </xpath>-->
<!--            <xpath expr="//field[@name='payment_type']" position="attributes">-->
<!--                <attribute name="attrs">{'readonly': [('is_internal_transfer', '=', True), ('partner_type', '=',-->
<!--                    'supplier')]}-->
<!--                </attribute>-->
<!--            </xpath>-->
<!--        </field>-->
<!--    </record>-->

</odoo>
